# Market Follower

> ì—…ë¹„íŠ¸ ì•”í˜¸í™”í ì‹¤ì‹œê°„ ì‹œì„¸ ë° ê°€ìƒ ê±°ë˜ ì„œë¹„ìŠ¤

[![Java](https://img.shields.io/badge/Java-17-orange)](https://openjdk.java.net/projects/jdk/17/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-brightgreen)](https://spring.io/projects/spring-boot)
[![MySQL](https://img.shields.io/badge/MySQL-8.0-blue)](https://www.mysql.com/)
[![Redis](https://img.shields.io/badge/Redis-Cache-red)](https://redis.io/)
[![Kafka](https://img.shields.io/badge/Apache-Kafka-black)](https://kafka.apache.org/)
[![WebSocket](https://img.shields.io/badge/WebSocket-STOMP-yellow)](https://stomp.github.io/)

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“Š ì‹¤ì‹œê°„ ë°ì´í„°
- **ì‹¤ì‹œê°„ ì•”í˜¸í™”í ì‹œì„¸** - ì—…ë¹„íŠ¸ 600ì—¬ê°œ ì½”ì¸ í˜„ì¬ê°€ ì •ë³´
- **ì‹¤ì‹œê°„ í˜¸ê°€ ë°ì´í„°** - ë§¤ìˆ˜/ë§¤ë„ í˜¸ê°€ 10ë‹¨ê³„ ì •ë³´
- **WebSocket ìŠ¤íŠ¸ë¦¬ë°** - 10ì´ˆë§ˆë‹¤ ìµœì‹  ì‹œì„¸/í˜¸ê°€ ìë™ ì—…ë°ì´íŠ¸
- **ë¹ ë¥¸ ì‘ë‹µ** - Redis ìºì‹œë¡œ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì‘ë‹µ (TTL: 3ë¶„)

### ğŸ“ˆ ì°¨íŠ¸ ë°ì´í„°
- **ë‹¤ì–‘í•œ ì‹œê°„ëŒ€** - 7ì¼(1ì‹œê°„), 30ì¼(4ì‹œê°„), 3ê°œì›”(1ì¼), 1ë…„(1ì¼), 5ë…„(1ì£¼) ìº”ë“¤ ë°ì´í„°
- **ì‹¤ì‹œê°„ 5ë¶„ ìº”ë“¤** - 5ë¶„ë§ˆë‹¤ ìµœì‹  5ë¶„ë´‰ ì—…ë°ì´íŠ¸ ë° Redis ì €ì¥
- **ë‹¹ì¼ ìº”ë“¤ ë°ì´í„°** - 00ì‹œë¶€í„° í˜„ì¬ê¹Œì§€ ëª¨ë“  5ë¶„ë´‰ ë°ì´í„° ì œê³µ
- **ìë™ ë°ì´í„° ì •ë¦¬** - ë§¤ì¼ 08:58 Redis ìº”ë“¤ ë°ì´í„° ì •ë¦¬

### ğŸ’° ê°€ìƒ ê±°ë˜ ì‹œìŠ¤í…œ
- **ë§¤ìˆ˜/ë§¤ë„ ì£¼ë¬¸** - ì‹¤ì œ ê±°ë˜ì†Œì™€ ìœ ì‚¬í•œ ì£¼ë¬¸ ì‹œìŠ¤í…œ
- **ìë™ ì²´ê²°** - 5ì´ˆë§ˆë‹¤ í˜¸ê°€ ê¸°ì¤€ ìë™ ì²´ê²° í™•ì¸
- **í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬** - ë³´ìœ  ì½”ì¸ ë° í‰ê·  ë§¤ìˆ˜ê°€ ì¶”ì 
- **ê±°ë˜ ë‚´ì—­** - ì „ì²´ ì£¼ë¬¸/ì²´ê²° ë‚´ì—­ ì¡°íšŒ
- **ì‹¤ì‹œê°„ ì•Œë¦¼** - ì£¼ë¬¸ ì²´ê²° ì‹œ ê°œì¸ë³„ WebSocket ì•Œë¦¼
- **ì£¼ë¬¸ ì·¨ì†Œ** - ëŒ€ê¸° ì¤‘ì¸ ì£¼ë¬¸ ì‹¤ì‹œê°„ ì·¨ì†Œ ê¸°ëŠ¥

### ğŸ” ì‚¬ìš©ì ê´€ë¦¬
- **êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸** - ê°„í¸í•œ OAuth2 ì¸ì¦
- **JWT í† í° ì¸ì¦** - ì•ˆì „í•œ API ì ‘ê·¼ ê´€ë¦¬
- **ê°œì¸ë³„ ì§€ê°‘** - KRW ì”ì•¡ ë° ì•”í˜¸í™”í ë³´ìœ ëŸ‰ ê´€ë¦¬ (ê¸°ë³¸ 1ì–µì› ì§€ê¸‰)
- **ê³„ì • íƒˆí‡´** - ì†Œí”„íŠ¸ ì‚­ì œ ë°©ì‹ìœ¼ë¡œ ê³„ì • ë¹„í™œì„±í™”

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Spring Boot 3.x, Java 17
- **Database**: MySQL 8.0
- **Cache**: Redis (ì‹¤ì‹œê°„ ë°ì´í„° ìºì‹±)
- **Message Queue**: Apache Kafka (ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°)
- **Real-time**: WebSocket (STOMP) (ì‹¤ì‹œê°„ ì•Œë¦¼)
- **Security**: Spring Security, JWT, OAuth2
- **Documentation**: Swagger/OpenAPI 3.0
- **Infrastructure**: Docker, AWS EC2
- **CI/CD**: GitHub Actions

## ğŸ“‹ API ë¬¸ì„œ

ğŸ”— [Swagger UI ë¬¸ì„œ](http://ec2-43-201-3-45.ap-northeast-2.compute.amazonaws.com:8080/swagger-ui/index.html)

### ğŸ¯ ì‹œì„¸ ë° ì°¨íŠ¸ API

```http
GET  /market/list               # ê±°ë˜ ê°€ëŠ¥í•œ ì½”ì¸ ëª©ë¡
GET  /market/ticker/{market}    # íŠ¹ì • ì½”ì¸ í˜„ì¬ê°€
GET  /market/ticker/all         # ì „ì²´ ì½”ì¸ í˜„ì¬ê°€
GET  /candle/all                # ì „ì²´ ìº”ë“¤ ë°ì´í„°
GET  /candle/all?period=yyyy-MM-dd&is_krw_market=true  # íŠ¹ì • ë‚ ì§œ ì´í›„ ìº”ë“¤ ë°ì´í„°
GET  /candle/daily?market=      # íŠ¹ì • ì½”ì¸ ë‹¹ì¼ 5ë¶„ë´‰ ë°ì´í„°
GET  /orderbook/{market}        # íŠ¹ì • ì½”ì¸ í˜¸ê°€ ì •ë³´
```

### ğŸ” ì¸ì¦ API

```http
POST /auth/google               # êµ¬ê¸€ ë¡œê·¸ì¸
POST /auth/signup               # íšŒì›ê°€ì…
POST /auth/signout              # íšŒì› íƒˆí‡´
```

### ğŸ’° ì§€ê°‘ ë° ê±°ë˜ API

```http
GET  /wallet/me                 # ë‚´ ì§€ê°‘ ì •ë³´ ì¡°íšŒ
POST /orderbook/request         # ë§¤ìˆ˜/ë§¤ë„ ì£¼ë¬¸ ìš”ì²­
POST /orderbook/cancel/{id}     # ì£¼ë¬¸ ì·¨ì†Œ
GET  /orderbook/holding/all     # ë³´ìœ  ì½”ì¸ ì¡°íšŒ
GET  /orderbook/history/all     # ê±°ë˜ ë‚´ì—­ ì¡°íšŒ
```

### ğŸ“¡ WebSocket ì±„ë„

Market FollowerëŠ” 3ê°€ì§€ íƒ€ì…ì˜ ì‹¤ì‹œê°„ WebSocket ì±„ë„ì„ ì œê³µí•©ë‹ˆë‹¤:

#### 1. ì‹œì„¸(Ticker) ì±„ë„
```javascript
// ì „ì²´ ì½”ì¸ ì‹œì„¸ êµ¬ë… (10ì´ˆë§ˆë‹¤ 600ê°œ ì½”ì¸ ì¼ê´„ ì „ì†¡)
stompClient.subscribe('/topic/ticker/all', message => {
    const allTickers = JSON.parse(message.body);
    console.log(`${allTickers.length}ê°œ ì½”ì¸ ì‹œì„¸ ì—…ë°ì´íŠ¸`);
});

// íŠ¹ì • ì½”ì¸ ì‹œì„¸ êµ¬ë…
stompClient.subscribe('/topic/ticker/KRW-BTC', message => {
    const btcTicker = JSON.parse(message.body);
    console.log(`BTC í˜„ì¬ê°€: ${btcTicker.trade_price}ì›`);
});
```

#### 2. í˜¸ê°€(Orderbook) ì±„ë„
```javascript
// íŠ¹ì • ì½”ì¸ í˜¸ê°€ êµ¬ë… (10ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸)
stompClient.subscribe('/topic/orderbook/KRW-BTC', message => {
    const btcOrderbook = JSON.parse(message.body);
    console.log('BTC ë§¤ìˆ˜í˜¸ê°€:', btcOrderbook.orderbook_units[0].bid_price);
    console.log('BTC ë§¤ë„í˜¸ê°€:', btcOrderbook.orderbook_units[0].ask_price);
});
```

#### 3. ì£¼ë¬¸ ì²´ê²° ì•Œë¦¼ ì±„ë„ (ê°œì¸ë³„)
```javascript
// ê°œì¸ ì£¼ë¬¸ ì²´ê²° ì•Œë¦¼ êµ¬ë… (ì´ë©”ì¼ ê¸°ë°˜)
const userEmail = extractEmailFromJWT(jwtToken);
stompClient.subscribe(`/topic/orders/${userEmail}`, message => {
    const tradeNotification = JSON.parse(message.body);
    console.log('ì£¼ë¬¸ ì²´ê²°:', tradeNotification);
    // ì‹¤ì‹œê°„ìœ¼ë¡œ í¬íŠ¸í´ë¦¬ì˜¤ ì—…ë°ì´íŠ¸
    updatePortfolio(tradeNotification);
});
```

## ğŸƒâ€â™‚ï¸ ë¹ ë¥¸ ì‹œì‘

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/seongjun-working-directories/market-follower.git
cd market-follower
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env íŒŒì¼ ìƒì„±
API_ACCESS=your_upbit_api_key
API_SECRET=your_upbit_secret_key
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
JWT_SECRET=your_jwt_secret_key
```

### 3. Dockerë¡œ ì‹¤í–‰
```bash
docker-compose up -d
```

### 4. ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì†
- **ë°±ì—”ë“œ ì„œë²„**: http://ec2-43-201-3-45.ap-northeast-2.compute.amazonaws.com:8080
- **API ë¬¸ì„œ**: http://ec2-43-201-3-45.ap-northeast-2.compute.amazonaws.com:8080/swagger-ui/index.html
- **WebSocket ì—°ê²°**: `ws://ec2-43-201-3-45.ap-northeast-2.compute.amazonaws.com:8080/ws?token=JWTí† í°`

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Upbit API   â”‚ => â”‚ Kafka        â”‚ => â”‚ Consumer    â”‚ => â”‚ Redis Cache â”‚
â”‚ (REST/WS)   â”‚    â”‚ Producer     â”‚    â”‚ Service     â”‚    â”‚ (3ë¶„ TTL)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client      â”‚ <= â”‚ WebSocket    â”‚ <= â”‚ Spring Boot â”‚ <= â”‚ MySQL DB    â”‚
â”‚ (Frontend)  â”‚    â”‚ (STOMP)      â”‚    â”‚ API Server  â”‚    â”‚ (ê±°ë˜ë°ì´í„°) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

1. **ë°ì´í„° ìˆ˜ì§‘**: Kafka Producerê°€ ì—…ë¹„íŠ¸ APIì—ì„œ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘
2. **ë°ì´í„° ì²˜ë¦¬**: Kafka Consumerê°€ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ì—¬ Redisì— ì €ì¥
3. **ì‹¤ì‹œê°„ ì „ì†¡**: 10ì´ˆë§ˆë‹¤ Redisì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ì—¬ WebSocketìœ¼ë¡œ ë¸Œë¡œë“œìºìŠ¤íŒ…
4. **ê±°ë˜ ì²˜ë¦¬**: 5ì´ˆë§ˆë‹¤ ëŒ€ê¸° ì¤‘ì¸ ì£¼ë¬¸ì˜ ì²´ê²° ì¡°ê±´ì„ í™•ì¸í•˜ì—¬ ìë™ ì²´ê²°
5. **ì•Œë¦¼ ì „ì†¡**: ì£¼ë¬¸ ì²´ê²° ì‹œ ê°œì¸ë³„ WebSocket ì±„ë„ë¡œ ì‹¤ì‹œê°„ ì•Œë¦¼ ì „ì†¡

## ğŸ“Š ë°ì´í„° ìˆ˜ì§‘ ë° ì—…ë°ì´íŠ¸ ìŠ¤ì¼€ì¤„

| ë°ì´í„° íƒ€ì… | ìˆ˜ì§‘ ì£¼ê¸° | ë¸Œë¡œë“œìºìŠ¤íŒ… ì£¼ê¸° | ì„¤ëª… |
|------------|----------|------------------|------|
| ì‹¤ì‹œê°„ ì‹œì„¸ | ì‹¤ì‹œê°„ | 10ì´ˆë§ˆë‹¤ | 600ê°œ ì½”ì¸ í˜„ì¬ê°€ |
| í˜¸ê°€ ë°ì´í„° | ì‹¤ì‹œê°„ | 10ì´ˆë§ˆë‹¤ | ë§¤ìˆ˜/ë§¤ë„ í˜¸ê°€ 10ë‹¨ê³„ |
| ì£¼ë¬¸ ì²´ê²° í™•ì¸ | - | 5ì´ˆë§ˆë‹¤ | ëŒ€ê¸° ì£¼ë¬¸ ì²´ê²° ì¡°ê±´ í™•ì¸ |
| 5ë¶„ ìº”ë“¤ ë°ì´í„° | - | 5ë¶„ë§ˆë‹¤ | ë‹¹ì¼ 5ë¶„ë´‰ Redis ì—…ë°ì´íŠ¸ |
| ìº”ë“¤ ë°ì´í„° ë™ê¸°í™” | ë§¤ì¼ 09:05 | - | ì „ì²´ ê¸°ê°„ë³„ ìº”ë“¤ ë™ê¸°í™” |
| ê±°ë˜ ì½”ì¸ ëª©ë¡ | ë§¤ì¼ 08:40 | - | ì‹ ê·œ/ìƒì¥íì§€ ì½”ì¸ ì—…ë°ì´íŠ¸ |
| Redis ìº”ë“¤ ì •ë¦¬ | ë§¤ì¼ 08:58 | - | ì „ì¼ 5ë¶„ë´‰ ë°ì´í„° ì‚­ì œ |

## ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ğŸ—„ï¸ [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„¸ ë³´ê¸°](schema.md)

### ì£¼ìš” í…Œì´ë¸” êµ¬ì¡°

#### ì‚¬ìš©ì ê´€ë¦¬
- **`member`** - ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ì´ë©”ì¼, ê°€ì…ì¼, í™œì„±í™” ìƒíƒœ)
- **`auth`** - ì‚¬ìš©ì ê¶Œí•œ ì •ë³´ (ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´)
- **`wallet`** - ê°œì¸ë³„ KRW ì§€ê°‘ (ì”ì•¡, ì£¼ë¬¸ ì ê¸ˆ ìê¸ˆ)

#### ê±°ë˜ ì‹œìŠ¤í…œ
- **`holding`** - ì•”í˜¸í™”í ë³´ìœ ëŸ‰ (ë³´ìœ  ìˆ˜ëŸ‰, í‰ê·  ë‹¨ê°€, ì ê¸ˆ ìˆ˜ëŸ‰)
- **`trade_history`** - ê±°ë˜ ë‚´ì—­ (ì£¼ë¬¸, ì²´ê²°, ì·¨ì†Œ ê¸°ë¡)
- **`tradable_coin`** - ê±°ë˜ ê°€ëŠ¥í•œ ì½”ì¸ ëª©ë¡ ë° ì£¼ì˜ì‚¬í•­

#### ì‹œì„¸ ë°ì´í„°
- **`upbit_ticker`** - ì‹¤ì‹œê°„ ì‹œì„¸ ì •ë³´
- **`upbit_candle_*`** - ê¸°ê°„ë³„ ìº”ë“¤ ë°ì´í„° (7d, 30d, 3m, 1y, 5y)

### ìº”ë“¤ ë°ì´í„° ì €ì¥ ì „ëµ

| í…Œì´ë¸” | ê¸°ê°„ | ìº”ë“¤ ê°„ê²© | ë³´ì¡´ ë²”ìœ„ | ì˜ˆìƒ ë ˆì½”ë“œ ìˆ˜ |
|--------|------|-----------|-----------|----------------|
| upbit_candle_7d | 7ì¼ | 1ì‹œê°„ | ì˜¤ëŠ˜ ê¸°ì¤€ ì •í™•íˆ 7ì¼ | 168 Ã— 600ì½”ì¸ |
| upbit_candle_30d | 30ì¼ | 4ì‹œê°„ | ì˜¤ëŠ˜ ê¸°ì¤€ ì •í™•íˆ 30ì¼ | 180 Ã— 600ì½”ì¸ |
| upbit_candle_3m | 3ê°œì›” | 1ì¼ | ì˜¤ëŠ˜ ê¸°ì¤€ ì •í™•íˆ 90ì¼ | 90 Ã— 600ì½”ì¸ |
| upbit_candle_1y | 1ë…„ | 1ì¼ | ì˜¤ëŠ˜ ê¸°ì¤€ ì •í™•íˆ 365ì¼ | 365 Ã— 600ì½”ì¸ |
| upbit_candle_5y | 5ë…„ | 1ì£¼ | ì˜¤ëŠ˜ ê¸°ì¤€ ì •í™•íˆ 5ë…„ | 260 Ã— 600ì½”ì¸ |

### Redis ìºì‹œ êµ¬ì¡°
```
upbit:ticker:{MARKET}           # ì‹œì„¸ ë°ì´í„° (TTL: 3ë¶„)
upbit:orderbook:{MARKET}        # í˜¸ê°€ ë°ì´í„° (TTL: 3ë¶„)
upbit:daily:{MARKET}            # ë‹¹ì¼ 5ë¶„ë´‰ ë°ì´í„°
```

## ğŸ® ê°€ìƒ ê±°ë˜ ì‹œìŠ¤í…œ

### ê±°ë˜ í”„ë¡œì„¸ìŠ¤

#### ë§¤ìˆ˜ ì£¼ë¬¸
1. ì§€ê°‘ ì”ì•¡ í™•ì¸ (price Ã— size â‰¤ balance)
2. ì£¼ë¬¸ ê¸ˆì•¡ë§Œí¼ balance â†’ locked ì´ë™
3. ì£¼ë¬¸ ìƒíƒœ WAITINGìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
4. 5ì´ˆë§ˆë‹¤ ì²´ê²° ì¡°ê±´ í™•ì¸ (ë§¤ë„í˜¸ê°€ â‰¤ ì£¼ë¬¸ê°€ê²©)
5. ì²´ê²° ì‹œ ì‹¤ì œ ì²´ê²°ê°€ë¡œ ì •ì‚°, locked ì°¨ê°, ë³´ìœ ëŸ‰ ì¦ê°€
6. í‰ê·  ë§¤ìˆ˜ê°€ ì¬ê³„ì‚° ë° WebSocket ì•Œë¦¼ ì „ì†¡

#### ë§¤ë„ ì£¼ë¬¸
1. ë³´ìœ  ìˆ˜ëŸ‰ í™•ì¸ (size â‰¤ holding.size)
2. ë§¤ë„ ìˆ˜ëŸ‰ë§Œí¼ holding.size â†’ holding.locked ì´ë™
3. ì£¼ë¬¸ ìƒíƒœ WAITINGìœ¼ë¡œ ì €ì¥
4. 5ì´ˆë§ˆë‹¤ ì²´ê²° ì¡°ê±´ í™•ì¸ (ë§¤ìˆ˜í˜¸ê°€ â‰¥ ì£¼ë¬¸ê°€ê²©)
5. ì²´ê²° ì‹œ holding.locked ì°¨ê°, ì§€ê°‘ ì”ì•¡ ì¦ê°€
6. WebSocketìœ¼ë¡œ ì²´ê²° ì•Œë¦¼ ì „ì†¡

### ì£¼ë¬¸ ìƒíƒœ
- **WAITING**: ì²´ê²° ëŒ€ê¸° ì¤‘
- **SUCCESS**: ì²´ê²° ì™„ë£Œ
- **FAILED**: ì²´ê²° ì‹¤íŒ¨ (ì‹œìŠ¤í…œ ì˜¤ë¥˜)
- **CANCELLED**: ì‚¬ìš©ì ì·¨ì†Œ

### ë™ì‹œì„± ì œì–´
- ë¹„ê´€ì  ë½ì„ ì´ìš©í•œ ì£¼ë¬¸ ì²˜ë¦¬
- ì²´ê²°/ì·¨ì†Œ ì‹œ ì£¼ë¬¸ ìƒíƒœ ì¬í™•ì¸
- ìê¸ˆ ë°˜í™˜ ë¡œì§ì„ í†µí•œ ë°ì´í„° ì •í•©ì„± ë³´ì¥

## ğŸ“¡ WebSocket ì—°ê²° ê°€ì´ë“œ

### ì—°ê²° ë°©ë²•
```javascript
const socket = new SockJS("http://server:8080/ws?token=" + jwtToken);
const stompClient = Stomp.over(socket);

stompClient.heartbeat.outgoing = 30000;
stompClient.heartbeat.incoming = 30000;

stompClient.connect({}, () => {
    console.log("WebSocket ì—°ê²° ì„±ê³µ");
    subscribeToChannels();
}, error => {
    console.error("WebSocket ì—°ê²° ì‹¤íŒ¨:", error);
});
```

### ì±„ë„ë³„ ë°ì´í„° í˜•íƒœ

#### ì‹œì„¸ ë°ì´í„° (UpbitTickerDto)
```json
{
    "market": "KRW-BTC",
    "trade_price": 50000000.0,
    "change_rate": 0.0245,
    "acc_trade_volume_24h": 1234.56789,
    "timestamp": 1631234567890
}
```

#### í˜¸ê°€ ë°ì´í„° (UpbitOrderbookDto)
```json
{
    "market": "KRW-BTC",
    "orderbook_units": [
        {
            "ask_price": 50001000.0,
            "bid_price": 49999000.0,
            "ask_size": 0.12345678,
            "bid_size": 0.98765432
        }
    ]
}
```

#### ì£¼ë¬¸ ì²´ê²° ì•Œë¦¼ (TradeHistoryDto)
```json
{
    "id": 123,
    "member_id": 456,
    "market": "KRW-BTC",
    "side": "BUY",
    "price": 50000000.0,
    "size": 0.001,
    "status": "SUCCESS",
    "request_at": "2025-09-09T10:00:00",
    "matched_at": "2025-09-09T10:05:30"
}
```

#### ë‹¹ì¼ 5ë¶„ë´‰ ìº”ë“¤ ë°ì´í„°
```json
[
    {
        "market": "KRW-BTC",
        "candle_date_time_kst": "2025-09-13T09:00:00",
        "opening_price": 50000000.0,
        "high_price": 50100000.0,
        "low_price": 49900000.0,
        "trade_price": 50050000.0,
        "candle_acc_trade_volume": 1.23456789,
        "unit": 5
    }
]
```

## ğŸš€ ë°°í¬

### GitHub Actions CI/CD
ìë™ ë°°í¬ëŠ” `main` ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤:

1. **ë¹Œë“œ**: Gradleë¡œ JAR íŒŒì¼ ìƒì„±
2. **ë„ì»¤ ì´ë¯¸ì§€**: GitHub Container Registryì— í‘¸ì‹œ
3. **ë°°í¬**: AWS EC2ì— ìë™ ë°°í¬
4. **ì„œë¹„ìŠ¤ ì¬ì‹œì‘**: Docker ì»¨í…Œì´ë„ˆ ë¬´ì¤‘ë‹¨ ì¬ì‹œì‘

### ë°°í¬ í™˜ê²½
- **ì„œë²„**: AWS EC2 t3.medium (2 vCPU, 4GB RAM)
- **ë°ì´í„°ë² ì´ìŠ¤**: MySQL 8.0
- **ìºì‹œ**: Redis
- **ë¡œë“œë°¸ëŸ°ì„œ**: AWS ALB (ì¶”í›„ ì ìš© ì˜ˆì •)

## ğŸ“ˆ ì„±ëŠ¥ ë° ëª¨ë‹ˆí„°ë§

### ì„±ëŠ¥ ì§€í‘œ
- **ì‘ë‹µ ì‹œê°„**: í‰ê·  50ms ì´í•˜ (Redis ìºì‹œ)
- **ë™ì‹œ ì ‘ì†ì**: 1,000ëª… ì´ìƒ ì§€ì›
- **ë°ì´í„° ì²˜ë¦¬ëŸ‰**: ì´ˆë‹¹ 10,000 ë©”ì‹œì§€ (Kafka)
- **WebSocket ì—°ê²°**: ìµœëŒ€ 5,000 ë™ì‹œ ì—°ê²°

### ëª¨ë‹ˆí„°ë§ ë„êµ¬
- **APM**: Spring Boot Actuator + Micrometer
- **ë¡œê·¸**: Logback + ELK Stack (ì˜ˆì •)

## ğŸ›¡ï¸ ë³´ì•ˆ

- **ì¸ì¦**: JWT í† í° ê¸°ë°˜ Stateless ì¸ì¦
- **ê¶Œí•œ**: Spring Security Role-Based Access Control
- **API ë³´í˜¸**: Rate Limiting, CORS ì„¤ì •
- **ë°ì´í„° ì•”í˜¸í™”**: ë¯¼ê° ì •ë³´ AES-256 ì•”í˜¸í™”
- **ê³„ì • ë³´ì•ˆ**: êµ¬ê¸€ OAuth2 ì¸ì¦, ê³„ì • ë¹„í™œì„±í™” ë°©ì‹ íƒˆí‡´

### ê°œë°œ ê·œì¹™
- **ì»¤ë°‹ ë©”ì‹œì§€**: Conventional Commits í˜•ì‹
- **ë¬¸ì„œ**: API ë³€ê²½ ì‹œ Swagger ë¬¸ì„œ ì—…ë°ì´íŠ¸

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ë¬¸ì˜ ë° ì§€ì›

- **ì´ìŠˆ ì œë³´**: [GitHub Issues](https://github.com/seongjun-working-directories/market-follower/issues)
- **ê¸°ëŠ¥ ìš”ì²­**: [GitHub Discussions](https://github.com/seongjun-working-directories/market-follower/discussions)
- **ì´ë©”ì¼**: seongjuncode@gmail.com

---

<div align="center">

| [ğŸ“š API ë¬¸ì„œ](http://ec2-43-201-3-45.ap-northeast-2.compute.amazonaws.com:8080/swagger-ui/index.html) | [ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](schema.md) | [ğŸ› ì´ìŠˆ ì œë³´](https://github.com/seongjun-working-directories/market-follower/issues) |

**â­ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!**

</div>
